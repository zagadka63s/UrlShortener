<div class="panel" style="padding:16px">
  <h2>About</h2>

  <div *ngIf="loading">Loading…</div>
  <div *ngIf="!loading && error" class="error">{{ error }}</div>

  <ng-container *ngIf="!loading && !error">
    <p *ngIf="updatedAt"><i>Last update: {{ updatedAt | date:'medium' }}</i></p>

    
    <div *ngIf="!canEdit">
      <pre style="white-space:pre-wrap">{{ content || '—' }}</pre>
    </div>

    <!-- edit mode (token required; AdminOnly policy on the server) -->
    <div *ngIf="canEdit">
      <textarea [(ngModel)]="content" rows="10" style="width:100%"></textarea>
      <div style="margin-top:8px">
        <button (click)="save()">Save</button>
      </div>
    </div>
  </ng-container>
</div>
